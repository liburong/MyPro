{"remainingRequest":"C:\\Users\\liburong\\Desktop\\MyVue\\MyVue\\MyVue\\MyVue\\MyVue\\market_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\liburong\\Desktop\\MyVue\\MyVue\\MyVue\\MyVue\\MyVue\\market_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\liburong\\Desktop\\MyVue\\MyVue\\MyVue\\MyVue\\MyVue\\market_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\liburong\\Desktop\\MyVue\\MyVue\\MyVue\\MyVue\\MyVue\\market_vue\\src\\components\\primary\\Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\liburong\\Desktop\\MyVue\\MyVue\\MyVue\\MyVue\\MyVue\\market_vue\\src\\components\\primary\\Cart.vue","mtime":1564477963214},{"path":"C:\\Users\\liburong\\Desktop\\MyVue\\MyVue\\MyVue\\MyVue\\MyVue\\market_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\liburong\\Desktop\\MyVue\\MyVue\\MyVue\\MyVue\\MyVue\\market_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\liburong\\Desktop\\MyVue\\MyVue\\MyVue\\MyVue\\MyVue\\market_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\liburong\\Desktop\\MyVue\\MyVue\\MyVue\\MyVue\\MyVue\\market_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      id: '',\n      //默认总数量\n      count: 0,\n      //默认总价\n      price: 0,\n      list: [],\n      list2: [{\n        pics: require(\"../../assets/shouye.png\"),\n        title: \"首页\"\n      }, {\n        pics: require(\"../../assets/fenlei.png\"),\n        title: \"分类\"\n      }, {\n        pics: require(\"../../assets/gouwuche.png\"),\n        title: \"购物车\"\n      }, {\n        pics: require(\"../../assets/wode.png\"),\n        title: \"我的\"\n      }],\n      isActive: false,\n      kindlist: [\"现货\", \"生鲜\", \"预定\", \"预售\"],\n      current: 0\n    };\n  },\n  created: function created() {\n    this.id = this.$route.query.id;\n    var money = 0;\n    var num = 0;\n    var list = this.list;\n\n    for (var i = 0; i < list.length; i++) {\n      if (list[i].cb) {\n        money += list[i].count * list[i].price;\n        num += list[i].count;\n      }\n    }\n\n    this.price = money;\n    this.count = num;\n    this.loadMore();\n  },\n  methods: {\n    toggle: function toggle() {\n      this.isActive = !this.isActive;\n    },\n    changeColor: function changeColor(index) {\n      //点击添加背景颜色，其他的删除class名称\n      this.current = index;\n    },\n    back: function back() {\n      this.$router.go(-1); //返回上一层  \n    },\n    allMoney: function allMoney() {\n      var money = 0;\n      var num = 0;\n      var list = this.list;\n\n      for (var i = 0; i < list.length; i++) {\n        if (list[i].cb) {\n          money += list[i].count * list[i].price;\n          num += list[i].count;\n        }\n      }\n\n      this.price = money;\n      this.count = num;\n    },\n    radios: function radios(i) {\n      var list = this.list;\n      list[i].cb = !list[i].cb;\n      this.allMoney();\n    },\n    desc: function desc(i) {\n      var list = this.list;\n      var count = list[i].count;\n\n      if (count > 1) {\n        count = count - 1;\n        list[i].count = count;\n      }\n\n      this.allMoney();\n    },\n    incr: function incr(i) {\n      var list = this.list;\n      var count = list[i].count;\n      count = count + 1;\n      list[i].count = count;\n      this.allMoney();\n    },\n    delAll: function delAll() {\n      var _this = this;\n\n      //删除多个商品\n      //1.创建变量保存空字符串\n      var str = \"\"; //2.创建循环拼接字符串内容 \n      //每选中一个要删除的商品，就把id拼接到str中\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.list[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n\n          if (item.cb) {\n            str += item.id + \",\";\n          }\n        } //1,6,\n\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      str = str.substring(0, str.length - 1); //截取从0~6\n\n      if (str.length == 0) {\n        this.$toast(\"请选中商品\");\n        return;\n      }\n\n      var url = \"delAll\";\n      var obj = {\n        ids: str\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(function (result) {\n        _this.loadMore();\n      });\n    },\n    delItem: function delItem(e) {\n      var _this2 = this;\n\n      var id = e.target.dataset.id;\n      console.log(id);\n      this.$messagebox.confirm(\"是否删除当前商品\").then(function (action) {\n        var url = \"delItem\";\n        var obj = {\n          id: id\n        };\n\n        _this2.axios.get(url, {\n          params: obj\n        }).then(function (result) {\n          //重新加载数据相当于无刷新效果删除商品\n          _this2.loadMore();\n        });\n      }).catch(function (err) {\n        return;\n      });\n    },\n    selectAll: function selectAll(e) {\n      //全选按钮状态\n      var cb = e.target.checked;\n      console.log(cb); //依据状态修改列表cb\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.list[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var p = _step2.value;\n          p.cb = cb;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    },\n    loadMore: function loadMore() {\n      var _this3 = this;\n\n      //清空之前的，无刷新删除\n      this.$store.commit(\"clear\");\n      var url = \"cart\";\n      this.axios.get(url).then(function (result) {\n        //  console.log(result);\n        // console.log(result.data.data);\n        //2.创建循环为数组中每个对象添加cb属性，cb控制商品前复选框\n        var rows = result.data.data;\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n          for (var _iterator3 = rows[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var p = _step3.value;\n            //2.1:添加cb属性\n            p.cb = false; //2.2:更新购物车数量\n\n            _this3.$store.commit(\"increment\");\n          } //3.将新数据保存\n\n        } catch (err) {\n          _didIteratorError3 = true;\n          _iteratorError3 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n              _iterator3.return();\n            }\n          } finally {\n            if (_didIteratorError3) {\n              throw _iteratorError3;\n            }\n          }\n        }\n\n        _this3.list = rows;\n      });\n    }\n  }\n};",{"version":3,"sources":["Cart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"cart\">\r\n    <!-- 头部 -->\r\n       <div class=\"header\">\r\n          <div class=\"left\">\r\n            <span @click=\"back\"></span>\r\n          </div>\r\n          <div class=\"middle\">购物车</div>    \r\n          <div class=\"right\">\r\n            <div @click=\"toggle\"><img src=\"../../assets/nav.png\" alt=\"\"></div>\r\n          </div>    \r\n      </div>\r\n      <!-- 隐藏导航条 -->\r\n      <div class=\"goods_nav\" v-show=\"isActive\">\r\n        <div class=\"triangle\">\r\n           <p></p>                 \r\n        </div> \r\n        <ul class=\"navBar\">\r\n            <li v-for=\"(item,i) of list2\" :key=\"i\">\r\n             <router-link to=\"/Index\">\r\n               <span class=\"imgs\">\r\n                   <img :src=\"item.pics\" alt=\"\">\r\n                </span>\r\n               <span>{{item.title}}</span>\r\n             </router-link>\r\n            </li>\r\n        </ul>\r\n      </div>\r\n    <!-- 中间类别 -->\r\n    <ul class=\"kind\" >\r\n        <li v-for=\"(elem,index) of kindlist\" :key=\"index\" v-bind:class=\"{'colorChange':index==current}\" @click=\"changeColor(index)\">\r\n            <router-link to=\"/Cart\">{{elem}}</router-link>\r\n            <!-- <a href=\"\"></a> -->\r\n        </li>\r\n    </ul>\r\n    <!-- 选中产品信息 -->\r\n    <ul class=\"selected\" v-for=\"(p,i) of list\" :key=\"i\">\r\n        <li>\r\n            <input type=\"checkbox\" v-model=\"p.cb\"  @click=\"radios(i)\">\r\n        </li>\r\n        <li>\r\n            <a href=\"\">\r\n               <img :src=\"'http://127.0.0.1:3000/img/'+p.img_url\" alt=\"\">\r\n            </a>\r\n        </li>\r\n        <li class=\"detail\">\r\n           <p>\r\n               <a href=\"\">{{p.title}}</a>\r\n           </p> \r\n           <p>{{p.subtitle}}</p> \r\n           <p class=\"count\">\r\n             <span>￥{{p.price.toFixed(2)}}元</span>\r\n             <span @click=\"desc(i)\">-</span>\r\n             <input type=\"text\" v-model=\"p.count\">\r\n             <span @click=\"incr(i)\">+</span>\r\n           </p> \r\n           <button @click=\"delItem\" :data-id=\"p.id\">删除</button>\r\n        </li>\r\n    </ul>\r\n    <!-- 底部 -->\r\n    <div class=\"footer\">\r\n        <div class=\"selectAll\">\r\n          <input type=\"checkbox\" @change=\"selectAll\">全选\r\n        </div>\r\n        <button @click=\"delAll\">删除选中</button> \r\n        <span>合计:</span>\r\n        <span style=\"color:red;\">￥{{price}}</span>\r\n        <span style=\"color:red;\">元</span>\r\n        <a href=\"\">去结算</a>\r\n    </div>\r\n </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n          id:'',\r\n          //默认总数量\r\n            count:0,\r\n          //默认总价\r\n            price:0,\r\n            list:[],\r\n            list2:[\r\n               {pics:require('../../assets/shouye.png'),title:\"首页\"},\r\n               {pics:require('../../assets/fenlei.png'),title:\"分类\"},\r\n               {pics:require('../../assets/gouwuche.png'),title:\"购物车\"},\r\n               {pics:require('../../assets/wode.png'),title:\"我的\"}\r\n            ],\r\n            isActive:false,\r\n            kindlist:[\"现货\",\"生鲜\",\"预定\",\"预售\"],\r\n            current:0\r\n        }\r\n    },\r\n    created(){\r\n      this.id=this.$route.query.id\r\n      var money=0;\r\n      var num=0;\r\n      var list=this.list;\r\n      for(var i=0;i<list.length;i++){\r\n       if(list[i].cb){\r\n         money+=list[i].count*list[i].price;\r\n         num+=list[i].count\r\n       }\r\n      }\r\n      this.price=money;\r\n      this.count=num;\r\n\r\n      this.loadMore();\r\n    },\r\n    methods:{\r\n       toggle(){\r\n           this.isActive=!this.isActive;\r\n       },\r\n      changeColor(index){\r\n    //点击添加背景颜色，其他的删除class名称\r\n        this.current=index;\r\n       },\r\n       back(){\r\n         this.$router.go(-1);//返回上一层  \r\n       },\r\n       allMoney(){\r\n          var money=0;\r\n          var num=0;\r\n          var list=this.list;\r\n          for(var i=0;i<list.length;i++){\r\n            if(list[i].cb){\r\n              money+=list[i].count*list[i].price;\r\n              num+=list[i].count\r\n            }\r\n          }\r\n          this.price=money;\r\n          this.count=num;\r\n       },\r\n       radios(i){\r\n         var list=this.list;\r\n         list[i].cb=!list[i].cb\r\n          this.allMoney();\r\n       },\r\n       desc(i){\r\n        var list=this.list;\r\n        var count = list[i].count;\r\n        if(count > 1) {\r\n\t\t\t\t\t\t\tcount = count - 1;\r\n\t\t\t\t\t\t\tlist[i].count = count;\r\n            }\r\n            this.allMoney();\r\n       },\r\n       incr(i){\r\n         var list=this.list;\r\n         var count = list[i].count;\r\n\t\t\t\t\t\tcount = count + 1;\r\n         list[i].count = count;\r\n         this.allMoney();\r\n       },\r\n       delAll(){\r\n        //删除多个商品\r\n        //1.创建变量保存空字符串\r\n         var str=\"\"; \r\n        //2.创建循环拼接字符串内容 \r\n        //每选中一个要删除的商品，就把id拼接到str中\r\n        for(var item of this.list){\r\n          if(item.cb){\r\n              str+=item.id+\",\"\r\n          }\r\n        }\r\n        //1,6,\r\n        str=str.substring(0,str.length-1)//截取从0~6\r\n        if(str.length==0){\r\n          this.$toast(\"请选中商品\")\r\n          return;\r\n        }\r\n        var url=\"delAll\";\r\n        var obj={ids:str};\r\n        this.axios.get(url,{params:obj}).then(result=>{\r\n            this.loadMore();\r\n        })\r\n       },\r\n       delItem(e){\r\n        var id=e.target.dataset.id;\r\n        console.log(id);\r\n        this.$messagebox.confirm(\"是否删除当前商品\").then(action=>{\r\n            var url=\"delItem\";\r\n            var obj={id:id};\r\n            this.axios.get(url,{params:obj})\r\n                .then(result=>{\r\n            //重新加载数据相当于无刷新效果删除商品\r\n                  this.loadMore();\r\n                });\r\n         }).catch(err=>{\r\n             return;\r\n         })\r\n       },\r\n       selectAll(e){\r\n        //全选按钮状态\r\n           var cb=e.target.checked;\r\n           console.log(cb)\r\n         //依据状态修改列表cb\r\n           for(var p of this.list){\r\n               p.cb=cb;\r\n           }\r\n       },\r\n       loadMore(){\r\n        //清空之前的，无刷新删除\r\n        this.$store.commit(\"clear\")\r\n        var url=\"cart\";\r\n        this.axios.get(url).then(result=>{\r\n          //  console.log(result);\r\n           // console.log(result.data.data);\r\n         //2.创建循环为数组中每个对象添加cb属性，cb控制商品前复选框\r\n           var rows=result.data.data;\r\n           for(var p of rows){\r\n          //2.1:添加cb属性\r\n            p.cb=false;\r\n          //2.2:更新购物车数量\r\n            this.$store.commit(\"increment\");\r\n           }\r\n          //3.将新数据保存\r\n          this.list=rows;\r\n     })\r\n    }  \r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n .header{\r\n    width:100%;\r\n    height: 46px;\r\n    background:#8fb13d;\r\n  }\r\n  .header>div:first-child{\r\n    float: left;\r\n    width:15%; \r\n    height:100%; \r\n  }\r\n .header>div:first-child>span{\r\n     background: url(\"../../assets/home/arrow_left.png\") no-repeat 15px center;\r\n     background-size:auto 16px;\r\n     display: block;\r\n     width:45px;\r\n     height:46px;\r\n     margin:auto;\r\n }\r\n  .header>div:nth-child(2){\r\n      float: left;\r\n      width:70%;\r\n      font-size: 16px;\r\n      color:#fff;\r\n      text-align: center;\r\n      height:46px;\r\n      line-height: 46px;\r\n  }\r\n  .right{\r\n      float: left;\r\n      width:15%;\r\n      height:46px;\r\n  }\r\n  .right>div{\r\n      width:85%;\r\n      margin-right:15%;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n  } \r\n.goods_nav{\r\n    width:30%;\r\n    float: right;\r\n    right:5px;\r\n    overflow: hidden;\r\n    position: fixed;\r\n    margin-top: -20px;\r\n    z-index: 999;\r\n}\r\n.goods_nav .triangle{\r\n    width:100%;\r\n    height:20px;\r\n}\r\n.triangle>p{\r\n    border-style:solid;\r\n    border-color: transparent transparent #666 transparent;\r\n    border-width: 10px;\r\n    float: right;\r\n    margin:0 10px 0 0;\r\n    overflow: hidden;  \r\n}\r\n.navBar{\r\n    margin:0;\r\n    padding:0;\r\n    list-style: none;\r\n    width:100%;\r\n    background:rgba(46,45,45,0.9); \r\n    overflow: hidden;\r\n    border-radius: 4px;  \r\n}\r\n.navBar>li{\r\n    width:100%;\r\n    height:40px;\r\n    border-bottom: 1px solid #999;\r\n}\r\n.navBar>li>a{\r\n    width:100%;\r\n    height:40px;\r\n    text-decoration: none;\r\n    color: #eee;\r\n    font-size: 14px;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n.imgs{\r\n    float: left;\r\n    margin:0px  5px ;\r\n}\r\n.imgs>img{\r\n    width:20px;height:20px;\r\n}\r\n.navBar>li>a>span:nth-child(2){\r\n    float: left;\r\n    height:31px;\r\n    line-height: 31px;\r\n}\r\n.kind{\r\n    width:98%;\r\n    margin:0 1%;\r\n    border-bottom: 1px solid #8fb13d;\r\n    height:38px;\r\n    padding:10px 0px;\r\n}\r\n.kind>li{\r\n    width:25%;\r\n    height:38px;\r\n    list-style: none;\r\n    float: left;\r\n    text-align: center;\r\n    line-height: 38px;\r\n}\r\n.kind>li>a{\r\n    width:100%;\r\n    height:100%;\r\n    text-decoration: none;\r\n    font-size: 14px;\r\n    color:#000;\r\n    background:transparent; \r\n}\r\n.colorChange{\r\n    background: #8fb13d;\r\n    color:#000;\r\n}\r\n.selected{\r\n   width:100%;\r\n   height:130px;\r\n   background: #fff4e8;\r\n   border-bottom: 1px dotted #8fb13d;\r\n   list-style: none;\r\n   padding: 0;\r\n   margin: 0;\r\n   display: flex;\r\n   flex-direction: row ;\r\n   flex-wrap: nowrap;\r\n   justify-content: flex-start; \r\n}\r\n.selected>li:not(:last-child){\r\n    display: flex;\r\n    flex-direction: row ;\r\n    flex-wrap: nowrap;\r\n    justify-content: flex-start; \r\n    margin-left:5%;\r\n    height:100%;\r\n    align-items: center;\r\n}\r\n.selected>li:first-child{\r\n    width:4.2%;\r\n    margin-left:0;\r\n}\r\n.selected>li:first-child>input{\r\n     width:100%;\r\n     vertical-align: middle;\r\n}\r\n.selected>li:nth-child(2){\r\n    width:18%;\r\n}\r\n.selected>li:nth-child(2)>a{\r\n    float: left;\r\n    margin-right: 8px;\r\n}\r\n.selected>li:nth-child(2)>a>img{\r\n    width:100%;\r\n    height:70px;\r\n    vertical-align: middle;\r\n}\r\n.selected>li:nth-child(3){\r\n     width:60%;\r\n     height:100%;\r\n     display: flex;\r\n     flex-direction: column;\r\n     justify-content: center;\r\n     align-items: flex-start ;\r\n     padding-left:16px;\r\n}\r\n.selected>.detail>p:nth-child(3){\r\n     width:100%;\r\n}\r\np{ margin: 0;}\r\nli.detail>p:nth-child(1){\r\n   margin-top:5px;\r\n}\r\nli.detail>p:nth-child(1)>a{\r\n   font-size: 14px;\r\n   color:#000;\r\n   text-decoration: none; \r\n}\r\nli.detail>p:nth-child(2){\r\n   font-size: 13px;\r\n   color:#666;\r\n   margin-top:8px;\r\n}\r\np.count{\r\n   margin:10px 0 5px 0;\r\n   width:100%;\r\n   height:26px;\r\n   line-height: bottom;\r\n   overflow: hidden;\r\n}\r\n.count>span:first-child{\r\n   color: red;\r\n   float: left;\r\n   margin-right:15px;\r\n  font-size: 16px;\r\n}\r\n.count>span:nth-child(2),.count>span:nth-child(4){\r\n   width:9%;\r\n   height:24px;\r\n   border: 1px solid #ccc;\r\n   font-size: 26px;\r\n   color:#888;\r\n   text-align: center;\r\n   line-height: 24px;\r\n   float: left;\r\n}\r\n\r\n.count>input{\r\n  width:20%;\r\n  height:24px;\r\n  border:0;\r\n  border-top:1px solid #ccc;\r\n  border-bottom:1px solid #ccc;\r\n  padding:0;\r\n  float: left;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  color:#777;\r\n}\r\n.detail>button{\r\n    border:0px;\r\n    background:transparent;\r\n    color:#888;\r\n    font-size: 14px;\r\n    margin-left:145px;\r\n}\r\n.footer{\r\n    position: fixed;\r\n    bottom: 0px;\r\n    width:100%;\r\n    height:40px;\r\n    padding:10px 0;\r\n    line-height: 40px;\r\n    background: #f8f8f8;\r\n    \r\n}\r\n.footer>div{\r\n  float: left;\r\n  height: 100%;\r\n  width:45px;\r\n  padding-left:6px;\r\n  margin-right:8px;\r\n  font-size: 14px;\r\n}\r\n.footer>div>input{\r\n  height: 17px;\r\n  width: 17px;\r\n  vertical-align: middle;\r\n}\r\n.footer>button{\r\n  border:0;\r\n  background: transparent;\r\n  font-size:12px; \r\n  color:#888;\r\n  margin:0px 65px 0px 5px;\r\n  float: left;\r\n  overflow: hidden;\r\n  height: 100%;\r\n}\r\n.footer>span{\r\n  height: 100%;\r\n  float: left;\r\n  font-size: 15px;\r\n  color:#888;\r\n}\r\n.footer>a{\r\n    float: right;\r\n    text-decoration: none;\r\n    width:42px;\r\n    height: 100%;\r\n    background: #8fb13d;\r\n    padding:0 10px;\r\n    margin-right:15px;\r\n    color:#000;\r\n    font-size: 14px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/primary"}]}